{% extends 'layout-fluid.html' %}
{% block head %} 
{% include 'includes/head.html' %}
<script type="text/javascript" src="/public/javascripts/accounts.js"></script>
{% endblock %}
{% block content %}
<div class="row">

	{% include 'includes/manufacturer-header.html' %} 

	<div class="col-12">
		<ul class="tabs">
			<li class="tab"><a href="/manufacturers/overview/summary.html">Overview</a></li>
			<li class="tab active"><a href="/manufacturers/retailers.html">Retailers</a></li>
			<li class="tab"><a href="/manufacturers/users.html">Users</a></li>
			<li class="tab"><a href="/manufacturers/details.html">Details</a></li>
		</ul>
	</div> <!-- end .col-12 -->

	<div class="tab-content">

	
		<div class="row">
			<div class="col-12">
				<table>
					<thead class="tableHead">
						<th>Manufacturer's (2)</th>
						<th>Code</th>
						<th>Address</th>
						<th>Postcode</th>
						<th>Contact</th>
					</thead>
					<tbody id="tableBody">
					</tbody>
				</table>

			</div><!--  end .column  -->
		</div><!--  end .row  -->
	</div><!--  end .row  -->

	<script>
		var table = '';

		for (var i = 0; i < retailers.length; i++) {
			table += '<tr>';
			table += '<td class="bold"><a class="manufacturers-link" data-manufacturer="' + retailers[i].name + '" href="#">' + retailers[i].name + '</a></td>';
			table += '<td>' + retailers[i].id + '</td>';
			table += '<td><div class="truncate">' + retailers[i].address1 + ', ' + retailers[i].address2 + ', ' +  retailers[i].address3 + '</div></td>';
			table += '<td>' + retailers[i].postCode + '</div></td>';
			table += '<td><a href="">' + retailers[i].contact.forenames + ' ' + retailers[i].contact.surnames + '</a></td>';
			table += '</tr>';
		}

		$('#tableBody').html(table);

		$('.manufacturers-link').click(function(){		
			var name = $(this).attr("data-manufacturer");
			member.currentManufacturer = getManufacturer(name);
			go('/manufacturers/overview/summary');
			//			debugger;
			//navigate(); 
		});
	
</script>
{% endblock %}